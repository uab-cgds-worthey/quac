'''
USAGE:
module reset
module load Anaconda3/2020.02
module load snakemake/5.9.1-foss-2018b-Python-3.6.6

snakemake -s workflow/Snakefile --use-conda -k -p --config modules=all
'''
from pathlib import Path
import pandas as pd

WORKFLOW_PATH = Path(workflow.basedir).parent
configfile: WORKFLOW_PATH / "configs/workflow.yaml"


##############   MODULES   ##############
include: "rules/common.smk"
include: "rules/relatedness_ancestry.smk"
include: "rules/coverage_analysis.smk"
include: "rules/within_species_contamintation.smk"
#########################################


############   CONSTRAINTS   ############
wildcard_constraints:
    sample = '|'.join([item for sublist in SAMPLES.values() for item in sublist]),
    project = '|'.join(PROJECT_NAMES),
#########################################


rule all:
    input:
        TARGETS_SOMALIER,
        TARGETS_COVERAGE,
        TARGETS_CONTAMINATION

