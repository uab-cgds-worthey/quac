'''
QuaC pipeline
'''

import pandas as pd

WORKFLOW_PATH = Path(workflow.basedir).parent
configfile: WORKFLOW_PATH / "configs/workflow.yaml"


##############   MODULES   ##############
include: "rules/common.smk"
include: "rules/relatedness_ancestry.smk"
include: "rules/coverage_analysis.smk"
include: "rules/within_species_contamintation.smk"
include: "rules/aggregate_results.smk"
#########################################


############   CONSTRAINTS   ############
wildcard_constraints:
    sample = '|'.join(SAMPLES),
    project = PROJECT_NAME,
#########################################


rule all:
    input:
        TARGETS_SOMALIER,
        TARGETS_COVERAGE,
        TARGETS_CONTAMINATION,
        OUT_DIR / "multiqc/multiqc_report.html"

